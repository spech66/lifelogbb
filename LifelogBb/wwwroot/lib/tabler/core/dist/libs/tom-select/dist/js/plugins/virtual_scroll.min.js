/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/@tabler/core@1.0.0-beta17/dist/libs/tom-select/dist/js/plugins/virtual_scroll.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).virtual_scroll=t()}(this,(function(){"use strict";
/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */const e={},t={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let r in t){let s=t[r]||"";for(let t=0;t<s.length;t++){e[s.substring(t,t+1)]=r}}new RegExp(Object.keys(e).join("|")+"|[̀-ͯ·ʾʼ]","gu");const r=e=>{var t=[];return((e,t)=>{if(Array.isArray(e))e.forEach(t);else for(var r in e)e.hasOwnProperty(r)&&t(e[r],r)})(e,(e=>{"string"==typeof e&&(e=e.trim().split(/[\11\12\14\15\40]/)),Array.isArray(e)&&(t=t.concat(e))})),t.filter(Boolean)},s=e=>(Array.isArray(e)||(e=[e]),e);return function(){const e=this,t=e.canLoad,o=e.clearActiveOption,i=e.loadCallback;var n,l,a={},d=!1,c=[];if(e.settings.shouldLoadMore||(e.settings.shouldLoadMore=()=>{if(n.clientHeight/(n.scrollHeight-n.scrollTop)>.9)return!0;if(e.activeOption){var t=e.selectable();if(Array.from(t).indexOf(e.activeOption)>=t.length-2)return!0}return!1}),!e.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";e.settings.sortField=[{field:"$order"},{field:"$score"}];const u=t=>!("number"==typeof e.settings.maxOptions&&n.children.length>=e.settings.maxOptions)&&!(!(t in a)||!a[t]),f=(t,r)=>e.items.indexOf(r)>=0||c.indexOf(r)>=0;e.setNextUrl=(e,t)=>{a[e]=t},e.getUrl=t=>{if(t in a){const e=a[t];return a[t]=!1,e}return a={},e.settings.firstUrl.call(e,t)},e.hook("instead","clearActiveOption",(()=>{if(!d)return o.call(e)})),e.hook("instead","canLoad",(r=>r in a?u(r):t.call(e,r))),e.hook("instead","loadCallback",((t,r)=>{if(d){if(l){const r=t[0];void 0!==r&&(l.dataset.value=r[e.settings.valueField])}}else e.clearOptions(f);i.call(e,t,r),d=!1})),e.hook("after","refreshOptions",(()=>{const t=e.lastValue;var o;u(t)?(o=e.render("loading_more",{query:t}))&&(o.setAttribute("data-selectable",""),l=o):t in a&&!n.querySelector(".no-results")&&(o=e.render("no_more_results",{query:t})),o&&(((e,...t)=>{var o=r(t);(e=s(e)).map((e=>{o.map((t=>{e.classList.add(t)}))}))})(o,e.settings.optionClass),n.append(o))})),e.on("initialize",(()=>{c=Object.keys(e.options),n=e.dropdown_content,e.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},e.settings.render),n.addEventListener("scroll",(()=>{e.settings.shouldLoadMore.call(e)&&u(e.lastValue)&&(d||(d=!0,e.load.call(e,e.lastValue)))}))}))}}));
//# sourceMappingURL=/sm/a5e6d1e00fb6c0082fec3a3a34f43164b500ec713fd74c7df1df6704eda728d1.map